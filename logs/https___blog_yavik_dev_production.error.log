{"name":"Log","hostname":"1374754b0efc","pid":1,"level":50,"req":{"meta":{"requestId":"e52b0c1b-fd4f-404b-8c6e-00d4e66c4ecb","userId":null},"url":"/users/me/?include=roles","method":"GET","originalUrl":"/ghost/api/canary/admin/users/me/?include=roles","params":{},"headers":{"connection":"close","host":"blog.yavik.dev","x-forwarded-for":"67.180.108.96","x-forwarded-host":"blog.yavik.dev","x-forwarded-proto":"https","x-forwarded-ssl":"on","x-real-ip":"67.180.108.96","sec-ch-ua":"\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\"","sec-ch-ua-mobile":"?0","app-pragma":"no-cache","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.95 Safari/537.36","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"4.12","sec-fetch-site":"same-origin","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"https://blog.yavik.dev/ghost/","accept-encoding":"gzip, deflate, br","accept-language":"en-US,en;q=0.9","cookie":"**REDACTED**"},"query":{"include":"roles"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","content-length":"321","etag":"W/\"141-mJa4zWHGnz3264RQPQrwc0YG3AY\"","vary":"Accept-Encoding"},"statusCode":403,"responseTime":"35ms"},"err":{"id":"59a32170-0f56-11ec-80ed-1beb5b656fa4","domain":"https://blog.yavik.dev","code":null,"name":"NoPermissionError","statusCode":403,"level":"normal","message":"Authorization failed","context":"\"Unable to determine the authenticated user or integration. Check that cookies are being passed through if using session authentication.\"","stack":"NoPermissionError: Authorization failed\n    at authorizeAdminApi (/var/lib/ghost/versions/4.12.1/core/server/services/auth/authorize.js:27:25)\n    at Layer.handle [as handle_request] (/var/lib/ghost/versions/4.12.1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/var/lib/ghost/versions/4.12.1/node_modules/express/lib/router/route.js:137:13)\n    at authenticate (/var/lib/ghost/versions/4.12.1/core/server/services/auth/session/middleware.js:28:13)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"},"msg":"Authorization failed","time":"2021-09-06T21:06:48.726Z","v":0}
{"name":"Log","hostname":"1374754b0efc","pid":1,"level":50,"err":{"id":"b9a69930-0f56-11ec-80ed-1beb5b656fa4","domain":"https://blog.yavik.dev","code":null,"name":"EmailError","statusCode":500,"level":"normal","message":"Failed to send email. Reason: connect ETIMEDOUT 142.251.2.26:25.","context":"\"Unable to send welcome email, your site will continue to function.\"","help":"\"Please see https://ghost.org/docs/config/#mail for instructions on configuring email.\"","stack":"EmailError: Failed to send email. Reason: connect ETIMEDOUT 142.251.2.26:25.\n    at createMailError (/var/lib/ghost/versions/4.12.1/core/server/services/mail/GhostMailer.js:60:12)\n    at EventEmitter.<anonymous> (/var/lib/ghost/versions/4.12.1/core/server/services/mail/GhostMailer.js:140:28)\n    at Object.onceWrapper (events.js:520:26)\n    at EventEmitter.emit (events.js:400:28)\n    at EventEmitter.emit (domain.js:470:12)\n    at DirectMailer.<anonymous> (/var/lib/ghost/versions/4.12.1/node_modules/directmail/lib/mailer.js:185:42)\n    at SMTPClient.<anonymous> (/var/lib/ghost/versions/4.12.1/node_modules/directmail/lib/mailer.js:277:9)\n    at Object.onceWrapper (events.js:520:26)\n    at SMTPClient.emit (events.js:400:28)\n    at SMTPClient.emit (domain.js:470:12)\n    at SMTPClient._onError (/var/lib/ghost/versions/4.12.1/node_modules/simplesmtp/lib/client.js:373:10)\n    at Socket.emit (events.js:400:28)\n    at Socket.emit (domain.js:470:12)\n    at emitErrorNT (internal/streams/destroy.js:106:8)\n    at emitErrorCloseNT (internal/streams/destroy.js:74:3)\n    at processTicksAndRejections (internal/process/task_queues.js:82:21)"},"msg":"Failed to send email. Reason: connect ETIMEDOUT 142.251.2.26:25.","time":"2021-09-06T21:09:29.807Z","v":0}
{"name":"Log","hostname":"1374754b0efc","pid":1,"level":50,"err":{"id":"a67e9280-0f61-11ec-80ed-1beb5b656fa4","domain":"https://blog.yavik.dev","code":null,"name":"BadRequestError","statusCode":400,"level":"normal","message":"Error parsing filter","stack":"BadRequestError: Error parsing filter\n    at Child.applyDefaultAndCustomFilters (/var/lib/ghost/versions/4.12.1/node_modules/@tryghost/bookshelf-filter/lib/bookshelf-filter.js:66:23)\n    at Function.getFilteredCollection (/var/lib/ghost/versions/4.12.1/core/server/models/base/plugins/filtered-collection.js:13:32)\n    at Function.findPage (/var/lib/ghost/versions/4.12.1/core/server/models/base/plugins/crud.js:73:41)\n    at Object.query (/var/lib/ghost/versions/4.12.1/core/server/api/canary/posts-public.js:33:32)\n    at Object.query (/var/lib/ghost/versions/4.12.1/core/server/api/shared/pipeline.js:156:24)\n    at /var/lib/ghost/versions/4.12.1/core/server/api/shared/pipeline.js:243:35\n    at tryCatcher (/var/lib/ghost/versions/4.12.1/node_modules/bluebird/js/release/util.js:16:23)\n    at Promise._settlePromiseFromHandler (/var/lib/ghost/versions/4.12.1/node_modules/bluebird/js/release/promise.js:547:31)\n    at Promise._settlePromise (/var/lib/ghost/versions/4.12.1/node_modules/bluebird/js/release/promise.js:604:18)\n    at Promise._settlePromise0 (/var/lib/ghost/versions/4.12.1/node_modules/bluebird/js/release/promise.js:649:10)\n    at Promise._settlePromises (/var/lib/ghost/versions/4.12.1/node_modules/bluebird/js/release/promise.js:729:18)\n    at _drainQueueStep (/var/lib/ghost/versions/4.12.1/node_modules/bluebird/js/release/async.js:93:12)\n    at _drainQueue (/var/lib/ghost/versions/4.12.1/node_modules/bluebird/js/release/async.js:86:9)\n    at Async._drainQueues (/var/lib/ghost/versions/4.12.1/node_modules/bluebird/js/release/async.js:102:5)\n    at Immediate.Async.drainQueues [as _onImmediate] (/var/lib/ghost/versions/4.12.1/node_modules/bluebird/js/release/async.js:15:14)\n    at processImmediate (internal/timers.js:464:21)\n\nError: Query Error: unexpected character in filter at char 2\n(tag:+id:-613695b7e009540\n-----^\nExpecting 'NOT', 'LBRACKET', 'NULL', 'TRUE', 'FALSE', 'NUMBER', 'LITERAL', 'STRING', 'GT', 'LT', 'GTE', 'LTE', got 'AND'\n    at Parser.parser.parseError (/var/lib/ghost/versions/4.12.1/node_modules/@nexes/nql-lang/dist/parser.js:328:12)\n    at Parser.parse (/var/lib/ghost/versions/4.12.1/node_modules/@nexes/nql-lang/dist/parser.js:245:22)\n    at Object.exports.parse (/var/lib/ghost/versions/4.12.1/node_modules/@nexes/nql-lang/lib/nql.js:18:44)\n    at Object.api.parse (/var/lib/ghost/versions/4.12.1/node_modules/@nexes/nql/lib/nql.js:15:31)\n    at Object.api.querySQL (/var/lib/ghost/versions/4.12.1/node_modules/@nexes/nql/lib/nql.js:49:44)\n    at Builder.<anonymous> (/var/lib/ghost/versions/4.12.1/node_modules/@tryghost/bookshelf-filter/lib/bookshelf-filter.js:63:24)\n    at Object.query (/var/lib/ghost/versions/4.12.1/node_modules/bookshelf/lib/helpers.js:57:14)\n    at Child.query (/var/lib/ghost/versions/4.12.1/node_modules/bookshelf/lib/model.js:1256:22)\n    at Child.applyDefaultAndCustomFilters (/var/lib/ghost/versions/4.12.1/node_modules/@tryghost/bookshelf-filter/lib/bookshelf-filter.js:56:22)\n    at Function.getFilteredCollection (/var/lib/ghost/versions/4.12.1/core/server/models/base/plugins/filtered-collection.js:13:32)\n    at Function.findPage (/var/lib/ghost/versions/4.12.1/core/server/models/base/plugins/crud.js:73:41)\n    at Object.query (/var/lib/ghost/versions/4.12.1/core/server/api/canary/posts-public.js:33:32)\n    at Object.query (/var/lib/ghost/versions/4.12.1/core/server/api/shared/pipeline.js:156:24)\n    at /var/lib/ghost/versions/4.12.1/core/server/api/shared/pipeline.js:243:35\n    at tryCatcher (/var/lib/ghost/versions/4.12.1/node_modules/bluebird/js/release/util.js:16:23)\n    at Promise._settlePromiseFromHandler (/var/lib/ghost/versions/4.12.1/node_modules/bluebird/js/release/promise.js:547:31)"},"msg":"Error parsing filter","time":"2021-09-06T22:27:42.123Z","v":0}
{"name":"Log","hostname":"1374754b0efc","pid":1,"level":50,"err":{"id":"9e5bf100-0f62-11ec-80ed-1beb5b656fa4","domain":"https://blog.yavik.dev","code":null,"name":"BadRequestError","statusCode":400,"level":"normal","message":"Error parsing filter","stack":"BadRequestError: Error parsing filter\n    at Child.applyDefaultAndCustomFilters (/var/lib/ghost/versions/4.12.1/node_modules/@tryghost/bookshelf-filter/lib/bookshelf-filter.js:66:23)\n    at Function.getFilteredCollection (/var/lib/ghost/versions/4.12.1/core/server/models/base/plugins/filtered-collection.js:13:32)\n    at Function.findPage (/var/lib/ghost/versions/4.12.1/core/server/models/base/plugins/crud.js:73:41)\n    at Object.query (/var/lib/ghost/versions/4.12.1/core/server/api/canary/posts-public.js:33:32)\n    at Object.query (/var/lib/ghost/versions/4.12.1/core/server/api/shared/pipeline.js:156:24)\n    at /var/lib/ghost/versions/4.12.1/core/server/api/shared/pipeline.js:243:35\n    at tryCatcher (/var/lib/ghost/versions/4.12.1/node_modules/bluebird/js/release/util.js:16:23)\n    at Promise._settlePromiseFromHandler (/var/lib/ghost/versions/4.12.1/node_modules/bluebird/js/release/promise.js:547:31)\n    at Promise._settlePromise (/var/lib/ghost/versions/4.12.1/node_modules/bluebird/js/release/promise.js:604:18)\n    at Promise._settlePromise0 (/var/lib/ghost/versions/4.12.1/node_modules/bluebird/js/release/promise.js:649:10)\n    at Promise._settlePromises (/var/lib/ghost/versions/4.12.1/node_modules/bluebird/js/release/promise.js:729:18)\n    at _drainQueueStep (/var/lib/ghost/versions/4.12.1/node_modules/bluebird/js/release/async.js:93:12)\n    at _drainQueue (/var/lib/ghost/versions/4.12.1/node_modules/bluebird/js/release/async.js:86:9)\n    at Async._drainQueues (/var/lib/ghost/versions/4.12.1/node_modules/bluebird/js/release/async.js:102:5)\n    at Immediate.Async.drainQueues [as _onImmediate] (/var/lib/ghost/versions/4.12.1/node_modules/bluebird/js/release/async.js:15:14)\n    at processImmediate (internal/timers.js:464:21)\n\nError: Query Error: unexpected character in filter at char 2\n(tag:+id:-613695b7e009540\n-----^\nExpecting 'NOT', 'LBRACKET', 'NULL', 'TRUE', 'FALSE', 'NUMBER', 'LITERAL', 'STRING', 'GT', 'LT', 'GTE', 'LTE', got 'AND'\n    at Parser.parser.parseError (/var/lib/ghost/versions/4.12.1/node_modules/@nexes/nql-lang/dist/parser.js:328:12)\n    at Parser.parse (/var/lib/ghost/versions/4.12.1/node_modules/@nexes/nql-lang/dist/parser.js:245:22)\n    at Object.exports.parse (/var/lib/ghost/versions/4.12.1/node_modules/@nexes/nql-lang/lib/nql.js:18:44)\n    at Object.api.parse (/var/lib/ghost/versions/4.12.1/node_modules/@nexes/nql/lib/nql.js:15:31)\n    at Object.api.querySQL (/var/lib/ghost/versions/4.12.1/node_modules/@nexes/nql/lib/nql.js:49:44)\n    at Builder.<anonymous> (/var/lib/ghost/versions/4.12.1/node_modules/@tryghost/bookshelf-filter/lib/bookshelf-filter.js:63:24)\n    at Object.query (/var/lib/ghost/versions/4.12.1/node_modules/bookshelf/lib/helpers.js:57:14)\n    at Child.query (/var/lib/ghost/versions/4.12.1/node_modules/bookshelf/lib/model.js:1256:22)\n    at Child.applyDefaultAndCustomFilters (/var/lib/ghost/versions/4.12.1/node_modules/@tryghost/bookshelf-filter/lib/bookshelf-filter.js:56:22)\n    at Function.getFilteredCollection (/var/lib/ghost/versions/4.12.1/core/server/models/base/plugins/filtered-collection.js:13:32)\n    at Function.findPage (/var/lib/ghost/versions/4.12.1/core/server/models/base/plugins/crud.js:73:41)\n    at Object.query (/var/lib/ghost/versions/4.12.1/core/server/api/canary/posts-public.js:33:32)\n    at Object.query (/var/lib/ghost/versions/4.12.1/core/server/api/shared/pipeline.js:156:24)\n    at /var/lib/ghost/versions/4.12.1/core/server/api/shared/pipeline.js:243:35\n    at tryCatcher (/var/lib/ghost/versions/4.12.1/node_modules/bluebird/js/release/util.js:16:23)\n    at Promise._settlePromiseFromHandler (/var/lib/ghost/versions/4.12.1/node_modules/bluebird/js/release/promise.js:547:31)"},"msg":"Error parsing filter","time":"2021-09-06T22:34:37.971Z","v":0}
{"name":"Log","hostname":"1374754b0efc","pid":1,"level":50,"err":{"id":"a33e6630-0f62-11ec-80ed-1beb5b656fa4","domain":"https://blog.yavik.dev","code":null,"name":"BadRequestError","statusCode":400,"level":"normal","message":"Error parsing filter","stack":"BadRequestError: Error parsing filter\n    at Child.applyDefaultAndCustomFilters (/var/lib/ghost/versions/4.12.1/node_modules/@tryghost/bookshelf-filter/lib/bookshelf-filter.js:66:23)\n    at Function.getFilteredCollection (/var/lib/ghost/versions/4.12.1/core/server/models/base/plugins/filtered-collection.js:13:32)\n    at Function.findPage (/var/lib/ghost/versions/4.12.1/core/server/models/base/plugins/crud.js:73:41)\n    at Object.query (/var/lib/ghost/versions/4.12.1/core/server/api/canary/posts-public.js:33:32)\n    at Object.query (/var/lib/ghost/versions/4.12.1/core/server/api/shared/pipeline.js:156:24)\n    at /var/lib/ghost/versions/4.12.1/core/server/api/shared/pipeline.js:243:35\n    at tryCatcher (/var/lib/ghost/versions/4.12.1/node_modules/bluebird/js/release/util.js:16:23)\n    at Promise._settlePromiseFromHandler (/var/lib/ghost/versions/4.12.1/node_modules/bluebird/js/release/promise.js:547:31)\n    at Promise._settlePromise (/var/lib/ghost/versions/4.12.1/node_modules/bluebird/js/release/promise.js:604:18)\n    at Promise._settlePromise0 (/var/lib/ghost/versions/4.12.1/node_modules/bluebird/js/release/promise.js:649:10)\n    at Promise._settlePromises (/var/lib/ghost/versions/4.12.1/node_modules/bluebird/js/release/promise.js:729:18)\n    at _drainQueueStep (/var/lib/ghost/versions/4.12.1/node_modules/bluebird/js/release/async.js:93:12)\n    at _drainQueue (/var/lib/ghost/versions/4.12.1/node_modules/bluebird/js/release/async.js:86:9)\n    at Async._drainQueues (/var/lib/ghost/versions/4.12.1/node_modules/bluebird/js/release/async.js:102:5)\n    at Immediate.Async.drainQueues [as _onImmediate] (/var/lib/ghost/versions/4.12.1/node_modules/bluebird/js/release/async.js:15:14)\n    at processImmediate (internal/timers.js:464:21)\n\nError: Query Error: unexpected character in filter at char 2\n(tag:+id:-613695b7e009540\n-----^\nExpecting 'NOT', 'LBRACKET', 'NULL', 'TRUE', 'FALSE', 'NUMBER', 'LITERAL', 'STRING', 'GT', 'LT', 'GTE', 'LTE', got 'AND'\n    at Parser.parser.parseError (/var/lib/ghost/versions/4.12.1/node_modules/@nexes/nql-lang/dist/parser.js:328:12)\n    at Parser.parse (/var/lib/ghost/versions/4.12.1/node_modules/@nexes/nql-lang/dist/parser.js:245:22)\n    at Object.exports.parse (/var/lib/ghost/versions/4.12.1/node_modules/@nexes/nql-lang/lib/nql.js:18:44)\n    at Object.api.parse (/var/lib/ghost/versions/4.12.1/node_modules/@nexes/nql/lib/nql.js:15:31)\n    at Object.api.querySQL (/var/lib/ghost/versions/4.12.1/node_modules/@nexes/nql/lib/nql.js:49:44)\n    at Builder.<anonymous> (/var/lib/ghost/versions/4.12.1/node_modules/@tryghost/bookshelf-filter/lib/bookshelf-filter.js:63:24)\n    at Object.query (/var/lib/ghost/versions/4.12.1/node_modules/bookshelf/lib/helpers.js:57:14)\n    at Child.query (/var/lib/ghost/versions/4.12.1/node_modules/bookshelf/lib/model.js:1256:22)\n    at Child.applyDefaultAndCustomFilters (/var/lib/ghost/versions/4.12.1/node_modules/@tryghost/bookshelf-filter/lib/bookshelf-filter.js:56:22)\n    at Function.getFilteredCollection (/var/lib/ghost/versions/4.12.1/core/server/models/base/plugins/filtered-collection.js:13:32)\n    at Function.findPage (/var/lib/ghost/versions/4.12.1/core/server/models/base/plugins/crud.js:73:41)\n    at Object.query (/var/lib/ghost/versions/4.12.1/core/server/api/canary/posts-public.js:33:32)\n    at Object.query (/var/lib/ghost/versions/4.12.1/core/server/api/shared/pipeline.js:156:24)\n    at /var/lib/ghost/versions/4.12.1/core/server/api/shared/pipeline.js:243:35\n    at tryCatcher (/var/lib/ghost/versions/4.12.1/node_modules/bluebird/js/release/util.js:16:23)\n    at Promise._settlePromiseFromHandler (/var/lib/ghost/versions/4.12.1/node_modules/bluebird/js/release/promise.js:547:31)"},"msg":"Error parsing filter","time":"2021-09-06T22:34:46.166Z","v":0}
{"name":"Log","hostname":"1374754b0efc","pid":1,"level":50,"req":{"meta":{"requestId":"9c9a4343-d62f-4aba-85fd-8166c9dfcaf0","userId":null},"url":"/users/me/?include=roles","method":"GET","originalUrl":"/ghost/api/canary/admin/users/me/?include=roles","params":{},"headers":{"connection":"close","host":"blog.yavik.dev","x-forwarded-for":"67.180.108.96","x-forwarded-host":"blog.yavik.dev","x-forwarded-proto":"https","x-forwarded-ssl":"on","x-real-ip":"67.180.108.96","content-type":"application/json; charset=UTF-8","x-requested-with":"XMLHttpRequest","accept-language":"en-us","accept-encoding":"gzip, deflate, br","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/14.1.2 Safari/605.1.15","referer":"https://blog.yavik.dev/ghost/","app-pragma":"no-cache","x-ghost-version":"4.12"},"query":{"include":"roles"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","content-length":"321","etag":"W/\"141-q1nhTI3aiVQjg/AyUZn36R6HKuE\"","vary":"Accept-Encoding"},"statusCode":403,"responseTime":"6ms"},"err":{"id":"a6d855d0-0f62-11ec-80ed-1beb5b656fa4","domain":"https://blog.yavik.dev","code":null,"name":"NoPermissionError","statusCode":403,"level":"normal","message":"Authorization failed","context":"\"Unable to determine the authenticated user or integration. Check that cookies are being passed through if using session authentication.\"","stack":"NoPermissionError: Authorization failed\n    at authorizeAdminApi (/var/lib/ghost/versions/4.12.1/core/server/services/auth/authorize.js:27:25)\n    at Layer.handle [as handle_request] (/var/lib/ghost/versions/4.12.1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/var/lib/ghost/versions/4.12.1/node_modules/express/lib/router/route.js:137:13)\n    at authenticate (/var/lib/ghost/versions/4.12.1/core/server/services/auth/session/middleware.js:28:13)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"},"msg":"Authorization failed","time":"2021-09-06T22:34:52.209Z","v":0}
